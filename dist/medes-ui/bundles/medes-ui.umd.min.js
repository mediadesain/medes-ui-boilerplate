!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/router"),require("prismjs"),require("prismjs/components/prism-css"),require("prismjs/components/prism-javascript"),require("prismjs/components/prism-java"),require("prismjs/components/prism-markup"),require("prismjs/components/prism-typescript"),require("prismjs/components/prism-sass"),require("prismjs/components/prism-scss"),require("prismjs/components/prism-ruby"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("medes-ui",["exports","@angular/core","@angular/common","@angular/router","prismjs","prismjs/components/prism-css","prismjs/components/prism-javascript","prismjs/components/prism-java","prismjs/components/prism-markup","prismjs/components/prism-typescript","prismjs/components/prism-sass","prismjs/components/prism-scss","prismjs/components/prism-ruby","@angular/platform-browser"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["medes-ui"]={},e.ng.core,e.ng.common,e.ng.router,e.Prism,null,null,null,null,null,null,null,null,e.ng.platformBrowser)}(this,(function(e,t,r,i,n,o,l,c,s,a,u,p,f,d){"use strict";var h=function(){function e(e){this.router=e,this.filterSelectedChange=new t.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.reset=function(){this.filterSelectedChange.emit({}),this.router.navigate([])},e}();h.decorators=[{type:t.Component,args:[{selector:"mds-filter-reset",template:'<div class="filter-group">\n    <button (click)="reset()" [disabled]="(filterSelected|json) === \'{}\'" style="width: 100%;">{{content}}</button>\n</div>',styles:[""]}]}],h.ctorParameters=function(){return[{type:i.Router}]},h.propDecorators={content:[{type:t.Input}],filterSelected:[{type:t.Input}],filterSelectedChange:[{type:t.Output}]};Object.create;function m(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var i,n,o=r.call(e),l=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)l.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return l}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}Object.create;var v=function(){};v.countUniqueValues=function(e){var t={};return e.forEach((function(e){t[e]=(t[e]||0)+1})),t},v.filterMultiple=function(e,t,r){r=r.join().toLocaleLowerCase().split(",");var i=[];return e.filter((function(e){if(e[t]){e[t]=e[t].includes(",")?e[t].split(","):e[t];var n=Array.isArray(e[t]);n||-1!==r.indexOf(e[t].toLocaleLowerCase())&&i.push(e),n&&e[t].forEach((function(t){-1!==r.indexOf(t.toLocaleLowerCase())&&i.push(e)}))}})),y(new Set(i))},v.groupValues=function(e,t){return e.reduce((function(e,r,i,n,o){return void 0===o&&(o=function(e){return e[t]}(r)),(e[o]||(e[o]=[])).push(r),e}),{})},v.sumValues=function(e){return e.reduce((function(e,t){return e+t}))},v.arrayTolistObject=function(e,t){var r,i,n={};try{for(var o=m(e),l=o.next();!l.done;l=o.next()){var c=l.value,s={};s[c[t]]=c,Object.assign(n,s)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return n};var b=function(){function e(){}return e.untilNow=function(e,t,r){var i=[{label:"year",seconds:31536e3},{label:"month",seconds:2592e3},{label:"day",seconds:86400},{label:"hour",seconds:3600},{label:"minute",seconds:60},{label:"second",seconds:1}],n="ago";r&&(n=r),t&&t.forEach((function(e,t){return i[t].label=e}));var o=Math.floor((Date.now()-e)/1e3),l=i.find((function(e){return e.seconds<o})),c=Math.floor(o/l.seconds);return c+" "+l.label+(1===c||t?"":"s")+" "+n},e}(),S=function(){};S.shortNumber=function(e,t){var r=y([""],t||["k","m","b","t"]),i=Math.floor((""+e).length/3),n=parseFloat((0!==i?e/Math.pow(1e3,i):e).toPrecision(2));return n%1!=0&&(n=n.toFixed(1)),n+r[i]},S.toCurrency=function(e,t,r){var i={IDR:"id-ID",JYP:"ja-JP",EUR:"de-DE",USD:"en-US"}[t];return r=r||0,new Intl.NumberFormat(i,{style:"currency",currency:t,minimumFractionDigits:r}).format(e)};var x=function(){};x.removeKeysIfEmpty=function(e){for(var t in e)null!==e[t]&&void 0!==e[t]&&""!==e[t]||delete e[t];return e};var k=function(){};k.lowerCase=function(e){return e.toLowerCase()},k.upperCase=function(e){return e.toUpperCase()},k.titleCase=function(e){return e.replace(/\b(\w)/g,(function(e){return e.toUpperCase()}))},k.pascalCase=function(e){return e.toLowerCase().replace(/[^\w\s]/gi," ").replace(/(?:_| |\b)(\w)/g,(function(e){return e.toUpperCase()})).replace(/\s/g,"")},k.randomCharacter=function(e,t){for(var r=t||"abcefghijklnopqrtuvwxyz0123456789",i="",n=e;n>0;--n)i+=r[Math.floor(Math.random()*r.length)];return i},k.convertToSlug=function(e){if(e)return e.toLowerCase().replace("."," ").replace("-"," ").replace(/[^\w ]+/g,"").replace(/ +/g,"-")},k.getYoutubeID=function(e){var t=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return t&&11===t[2].length?t[2]:""},k.getYoutubeEmbed=function(e){var t,r=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return r&&11===r[2].length&&(t=r[2]),"https://www.youtube.com/embed/"+t},k.getYoutubeThumbnail=function(e,t){var r,i=e.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/);return i&&11===i[2].length&&(r=i[2]),"https://i.ytimg.com/vi/"+r+"/"+(t=t||"hqdefault")+".jpg"};var w=function(){function e(e,t){this.router=e,this.activeroute=t,this.filterSelectedUrl={},this.filtergroup={}}return e.prototype.ngOnInit=function(){this.construcFilterGroup()},e.prototype.ngOnChanges=function(e){this.construcFilterGroup()},e.prototype.construcFilterGroup=function(){var e=this;this.filterBy.forEach((function(t,r){"_"===t[0]&&(e.filterBy.push(t.replace("_","")),e.filterBy.splice(r,1)),e.filterData.forEach((function(e){"_"===t[0]&&(e[t.replace("_","")]=e[t],delete e[t])})),t=t.replace("_","");var i=e.filterData.map((function(e){return e[t].split(",")})).flat(),n=v.countUniqueValues(i),o=Object.keys(n),l=Object.values(n),c={};c[t]=[];for(var s=function(r){var i={label:o[r],counter:l[r],url:k.convertToSlug(o[r]),checked:!1};e.activeroute.queryParams.subscribe((function(e){if(e[t]){var r=(e[t].includes(",")?e[t].split(","):[e[t]]).map((function(e){return e===i.url})).includes(!0);i.checked=!!r}})),c[t].push(i)},a=0;a<o.length;a++)s(a);Object.assign(e.filtergroup,c),e.filterSelected[t]=e.filtergroup[t].filter((function(e){return e.checked})).map((function(e){return e.label})),e.filterSelectedUrl[t]=e.filtergroup[t].filter((function(e){return e.checked})).map((function(e){return e.url})),0===e.filterSelected[t].length&&delete e.filterSelected[t]}))},e.prototype.clickCheckbox=function(e,t){var r,i,n;this.filterSelected[t]&&this.filterSelectedUrl[t]||(this.filterSelected[t]=[],this.filterSelectedUrl[t]=[]),this.router.navigate([],{queryParams:(r={},r[t]=e.url,r),queryParamsHandling:"merge"});var o=this.filterSelected[t].indexOf(e.label);o>-1?(this.filterSelected[t].splice(o,1),this.filterSelectedUrl[t].splice(o,1),0!==this.filterSelected[t].length&&0!==this.filterSelectedUrl[t].length||(delete this.filterSelected[t],delete this.filterSelectedUrl[t]),this.router.navigate([],{queryParams:(i={},i[t]=this.filterSelectedUrl[t]?this.filterSelectedUrl[t].join():null,i),queryParamsHandling:"merge"})):(this.filterSelected[t].push(e.label),this.filterSelectedUrl[t].push(e.url),this.router.navigate([],{queryParams:(n={},n[t]=this.filterSelectedUrl[t].join(),n),queryParamsHandling:"merge"}))},e.prototype.resetFilter=function(e,t){var r;e[t].forEach((function(e){return e.checked=!1})),delete this.filterSelected[t],this.router.navigate([],{queryParams:(r={},r[t]=null,r),queryParamsHandling:"merge"})},e}();w.decorators=[{type:t.Component,args:[{selector:"mds-filter-checkbox",template:'\x3c!-- Filter Group --\x3e\n<div *ngFor="let prop of filterBy" class="filter-group" style="margin-bottom: 1em;">\n    <ng-container *ngIf="filtergroup[prop].length > 1">\n        \x3c!-- Title Group --\x3e\n        <div class="checkbox-title">\n            <div>\n                <ng-container *ngIf="titlegroup">{{titlegroup+\' \'}}</ng-container>{{prop|titlecase}}\n            </div>\n            <a *ngIf="filterSelected[prop]" href="javascript:void(0)" (click)="resetFilter(filtergroup, prop)">\n                <span [innerHTML]="reset ? reset : \'✕\'"></span>\n            </a>\n        </div>\n        \x3c!-- Checkbox + Label --\x3e\n        <div *ngFor="let itm of filtergroup[prop];let i=index" class="checkbox-group" style="display: flex;">\n            <div style="white-space: nowrap; width: 100%; padding-right: 1em; overflow: hidden; text-overflow: ellipsis;">\n                <input [id]="prop+i" type="checkbox" [checked]="itm.checked" (change)="clickCheckbox(itm, prop)"/>\n                <label [for]="prop+i"> {{itm.label|titlecase}}</label>\n            </div>\n            <div *ngIf="!hideCounter">\n                <small>({{itm.counter}})</small>\n            </div>\n        </div>\n    </ng-container>\n</div>',styles:[".checkbox-title{display:flex;width:100%;justify-content:space-between}"]}]}],w.ctorParameters=function(){return[{type:i.Router},{type:i.ActivatedRoute}]},w.propDecorators={filterData:[{type:t.Input}],filterBy:[{type:t.Input}],filterSelected:[{type:t.Input}],titlegroup:[{type:t.Input}],reset:[{type:t.Input}],hideCounter:[{type:t.Input}]};var C=function(){function e(e,t){this.activeroute=e,this.router=t,this.filterSelectedUrl={},this.filterswatchgroup=[]}return e.prototype.ngOnInit=function(){this.construcFilterSwatch()},e.prototype.ngOnChanges=function(e){this.construcFilterSwatch()},e.prototype.construcFilterSwatch=function(){var e,t,r=this,i=this.filterData.map((function(e){return e[r.filterBy].split(",")})).flat();i=y(new Set(i));var n=[],o=function(e){var t={label:e,url:k.convertToSlug(e),color:l.swatchMapping[k.convertToSlug(e)],checked:!1};l.activeroute.queryParams.subscribe((function(e){if(e[r.filterBy]){var i=(e[r.filterBy].includes(",")?e[r.filterBy].split(","):[e[r.filterBy]]).map((function(e){return e===t.url})).includes(!0);t.checked=!!i}})),n.push(t),l.filterswatchgroup=n,l.filterSelected[l.filterBy]=l.filterswatchgroup.filter((function(e){return e.checked})).map((function(e){return e.url})),l.filterSelectedUrl[l.filterBy]=l.filterswatchgroup.filter((function(e){return e.checked})).map((function(e){return e.label})),0===l.filterSelected[l.filterBy].length&&delete l.filterSelected[l.filterBy]},l=this;try{for(var c=m(i),s=c.next();!s.done;s=c.next()){o(s.value)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}},e.prototype.clickCheckbox=function(e){this.filterSelected[this.filterBy]&&this.filterSelectedUrl[this.filterBy]||(this.filterSelected[this.filterBy]=[],this.filterSelectedUrl[this.filterBy]=[]),this.router.navigate([],{queryParams:{color:e.url},queryParamsHandling:"merge"});var t=this.filterSelected[this.filterBy].indexOf(e.label);t>-1?(this.filterSelected[this.filterBy].splice(t,1),this.filterSelectedUrl[this.filterBy].splice(t,1),0!==this.filterSelected[this.filterBy].length&&0!==this.filterSelectedUrl[this.filterBy].length||(delete this.filterSelected[this.filterBy],delete this.filterSelectedUrl[this.filterBy]),this.router.navigate([],{queryParams:{color:this.filterSelectedUrl[this.filterBy]?this.filterSelectedUrl[this.filterBy].join():null},queryParamsHandling:"merge"})):(this.filterSelected[this.filterBy].push(e.label),this.filterSelectedUrl[this.filterBy].push(e.url),this.router.navigate([],{queryParams:{color:this.filterSelectedUrl[this.filterBy].join()},queryParamsHandling:"merge"}))},e}();C.decorators=[{type:t.Component,args:[{selector:"mds-filter-swatch",template:'<div>{{titlegroup ? titlegroup : \'Color\'}}</div>\n<div class="swatch">\n    <div *ngFor="let item of filterswatchgroup; let i=index" class="round">\n        <input type="checkbox" [id]="\'checkbox\'+i" [checked]="item.checked" (change)="clickCheckbox(item); item.checked=!item.checked"/>\n        <label [for]="\'checkbox\'+i" [style.background-color]="item.color"></label>\n        <div [ngStyle]="{\'border\': item.checked ? \'1px solid #ddd\' : \'1px solid #fff\'}" style="border-radius: 50%; width: 28px; height: 28px; position: absolute; top: 0; left: 0;"></div>\n    </div>\n</div>',styles:['.swatch{display:flex;flex-wrap:wrap;margin-bottom:1em}.round{position:relative;width:30px;height:30px;margin-right:5px;margin-bottom:5px}.round label{border:1px solid #ccc;border-radius:50%;cursor:pointer;height:28px;left:0;position:absolute;top:0;width:28px}.round input[type=checkbox]{visibility:hidden;width:30px;height:30px;margin:0;padding:0}.round label:after{border:2px solid #fff;border-top:none;border-right:none;content:"";height:6px;left:7px;opacity:0;position:absolute;z-index:2;top:8px;transform:rotate(-45deg);width:12px;transition:.2s ease-in-out}.round input[type=checkbox]:checked+label:after{opacity:1}']}]}],C.ctorParameters=function(){return[{type:i.ActivatedRoute},{type:i.Router}]},C.propDecorators={filterData:[{type:t.Input}],filterBy:[{type:t.Input}],filterSelected:[{type:t.Input}],titlegroup:[{type:t.Input}],swatchMapping:[{type:t.Input}]};var j=function(){};j.decorators=[{type:t.NgModule,args:[{declarations:[h,w,C],imports:[r.CommonModule],exports:[h,w,C]}]}];var P=function(){function e(){}return e.prototype.ngAfterViewInit=function(){n.highlightElement(this.codeContent.nativeElement)},e.prototype.ngOnChanges=function(e){var t;(null==e?void 0:e.code)&&(null===(t=this.codeContent)||void 0===t?void 0:t.nativeElement)&&(this.codeContent.nativeElement.textContent=this.code,n.highlightElement(this.codeContent.nativeElement))},e}();P.decorators=[{type:t.Component,args:[{selector:"mds-hightlight-prism",template:'<pre *ngIf="language" class="language-{{ language }}">\n<code #codeContent class="language-{{ language }}">{{code}}</code>\n</pre>',styles:[""]}]}],P.ctorParameters=function(){return[]},P.propDecorators={codeContent:[{type:t.ViewChild,args:["codeContent"]}],code:[{type:t.Input}],language:[{type:t.Input}]};var I=function(){};I.decorators=[{type:t.NgModule,args:[{declarations:[P],imports:[r.CommonModule],exports:[P]}]}];var q=function(){function e(){}return e.prototype.transform=function(e,t){if(!e)return[];var r=Object.keys(t),i=Object.values(t),n=function(t){if(r){var n=r[t],o=i[t];Array.isArray(o)?o.length>0&&(e=v.filterMultiple(e,n,o)):e=e.filter((function(e){return e[n].includes(o)}))}};for(var o in r)n(o);return e},e}();q.decorators=[{type:t.Pipe,args:[{name:"filter",pure:!1}]}];var B=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)},e}();B.decorators=[{type:t.Pipe,args:[{name:"safeurl"}]}],B.ctorParameters=function(){return[{type:d.DomSanitizer}]};var U=function(){function e(){}return e.prototype.transform=function(e,t){if(e&&void 0!==t.keyword)return e=e.filter((function(e){return e[t.objkey].toLowerCase().includes(t.keyword.toLowerCase())}))},e}();U.decorators=[{type:t.Pipe,args:[{name:"search",pure:!1}]}];var M=function(){};M.decorators=[{type:t.NgModule,args:[{declarations:[q,B,U],imports:[r.CommonModule],exports:[q,B,U]}]}];var F=function(){function e(e,t){this.router=e,this.activeroute=t,this.filterList={},this.filterSelectedUrl={}}return e.prototype.ngOnInit=function(){this.filterToCheckbox()},e.prototype.filterToCheckbox=function(){var e=this;this.filterBy&&this.filterBy.forEach((function(t){if(e.filterData){var r=e.filterData.map((function(e){return e[t].includes(",")?e[t].split(","):e[t]}));r.forEach((function(e,t){Array.isArray(e)&&(e.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r.splice(t,1))}));var i=y(new Set(r.flat())),n=[];i.forEach((function(r){if(r){var i={};i.text=r,i.value=k.convertToSlug(r),i.ischecked||(i.ischecked=!1),e.activeroute.queryParams.subscribe((function(e){if(e[t]){var r=(e[t].includes(",")?e[t].split(","):[e[t]]).map((function(e){return e===i.value})).includes(!0);i.ischecked=!!r}})),n.push(i)}})),e.filterList[t]=n,setTimeout((function(){e.filterSelected[t]=e.filterList[t].filter((function(e){return e.ischecked})).map((function(e){return e.text})),e.filterSelectedUrl[t]=e.filterList[t].filter((function(e){return e.ischecked})).map((function(e){return e.value})),0===e.filterSelected[t].length&&delete e.filterSelected[t]}),500)}}))},e.prototype.checkBoxFilter=function(e,t,r,i){var n,o,l;e[r]&&t[r]||(e[r]=[],t[r]=[]),this.router.navigate([],{queryParams:(n={},n[r]=i.value,n),queryParamsHandling:"merge"});var c=e[r].indexOf(i.text);c>-1?(e[r].splice(c,1),t[r].splice(c,1),0!==e[r].length&&0!==t[r].length||(delete e[r],delete t[r]),this.router.navigate([],{queryParams:(o={},o[r]=t[r]?t[r].join():null,o),queryParamsHandling:"merge"})):(e[r].push(i.text),t[r].push(i.value),this.router.navigate([],{queryParams:(l={},l[r]=t[r].join(),l),queryParamsHandling:"merge"}))},e.prototype.resetFilter=function(e,t,r){var i;e[r].forEach((function(e){return e.ischecked=!1})),delete t[r],this.router.navigate([],{queryParams:(i={},i[r]=null,i),queryParamsHandling:"merge"})},e.prototype.resetAll=function(e,t,r){var i=this;r.forEach((function(r){e[r].forEach((function(e){return e.ischecked=!1})),delete t[r],i.router.navigate([],{queryParams:{}})}))},e}();F.decorators=[{type:t.Component,args:[{selector:"mds-filter-checkbox",template:'<div *ngIf="!filterBy">No Filter Key</div>\n<div *ngIf="!filterData">No Filter Data Found</div>\n\n<ng-container *ngIf="filterBy && filterData">\n    <div *ngFor="let prop of filterBy" [class]="classgroup">\n        <div class="filter-header" *ngIf="filterList[prop].length > 1">\n            {{titlegroup ? titlegroup : \'Filter by\'}} {{prop.replace(\'_\',\'\')|titlecase}}\n            <a *ngIf="filterSelected[prop]" href="javascript:void(0)" (click)="resetFilter(filterList,filterSelected,prop)">\n                <span [innerHTML]="resetgroup ? resetgroup : \'✕\'"></span>\n            </a>\n        </div>\n        <div class="filter-content" *ngIf="filterList[prop].length === 0">Key not found</div>\n        <div class="filter-content" *ngIf="filterList[prop].length > 1">\n            <div class="form-check" *ngFor="let filter of filterList[prop]; let i = index">\n                <input class="form-check-input"\n                    [id]="prop+i"\n                    type="checkbox"\n                    [value]="filter.value"\n                    [checked]="filter.ischecked"\n                    (change)="checkBoxFilter(filterSelected, filterSelectedUrl, prop, filter);filter.ischecked = !filter.ischecked;"\n                >\n                <label class="form-check-label" [for]="prop+i">{{filter.text|titlecase}}</label>\n            </div>\n        </div>\n    </div>\n    <div>\n        <button class="btn btn-primary" *ngIf="(filterSelected|json) != \'{}\'" (click)="resetAll(filterList,filterSelected, filterBy)">{{reset ? reset : \'Reset All\'}}</button>\n    </div>\n</ng-container>',styles:[""]}]}],F.ctorParameters=function(){return[{type:i.Router},{type:i.ActivatedRoute}]},F.propDecorators={classgroup:[{type:t.Input}],titlegroup:[{type:t.Input}],resetgroup:[{type:t.Input}],reset:[{type:t.Input}],filterData:[{type:t.Input}],filterBy:[{type:t.Input}],filterSelected:[{type:t.Input}]};var E=function(){};E.decorators=[{type:t.NgModule,args:[{declarations:[F],imports:[r.CommonModule],providers:[],exports:[F]}]}],e.FilterCheckboxComponent=w,e.FilterPipe=q,e.FilterSwatchComponent=C,e.MdsArrayUtils=v,e.MdsDateUtils=b,e.MdsFilterCheckboxComponent=F,e.MdsFilterCheckboxModule=E,e.MdsFilterModule=j,e.MdsFilterResetComponent=h,e.MdsHightlightPrismComponent=P,e.MdsHightlightPrismModule=I,e.MdsNumberUtils=S,e.MdsObjectUtils=x,e.MdsPipesModule=M,e.MdsStringUtils=k,e.SafeUrlPipe=B,e.SearchPipe=U,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=medes-ui.umd.min.js.map